apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: ocr-qa375

namespace: app

generatorOptions:
  disableNameSuffixHash: true

resources:
  - ../../base
  - external-secret-patch.yaml

images:
  - name: 495947449196.dkr.ecr.eu-central-1.amazonaws.com/ocr
    newTag: version_3.7.5_cacd3bb_139

configMapGenerator:
  - name: ocr-config
    literals:
      - MODE=saas
      - ENABLE_ANALYTICS=true
      - AWS_DEFAULT_REGION=eu-central-1
      - SSL_CERT_CHAIN_SECRET_NAME=qa-internal-services-ssl-ca-crt
      - KINESIS_STREAM_NAME=test_purple_events
      - IDENTITY_POOL_ID=eu-central-1:6d48067d-753f-4c32-ae14-14b9a153985b
      - KINESIS_REGION_NAME=eu-central-1

patches:
  - path: deployment-patch.yaml
    target:
      kind: Deployment
      name: ocr
  - path: ingress-patch.yaml
    target:
      kind: Ingress
      name: ocr-ingress


commonLabels:
  environment: qa
  version: "3.7.5"

commonAnnotations:
  environment: "qa"
