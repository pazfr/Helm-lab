replicaCount: 2
service:
  name: otp
  port: 5000
  targetPort: 5000
  ports:
  - name: 5000-tcp
    port: 5000
    targetPort: 5000
    protocol: TCP
  

ingress:
  internal: true
  className: alb
  annotations:
    alb.ingress.kubernetes.io/backend-protocol: HTTPS
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTPS": 5000}]'
    alb.ingress.kubernetes.io/scheme: internal
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/healthcheck-path: /alive
    alb.ingress.kubernetes.io/healthcheck-port: '5000'
    alb.ingress.kubernetes.io/healthcheck-protocol: HTTPS
    
  paths:
    - path: /
      pathType: Prefix
      serviceName: otp-service
      port: 5000
    

image:
  repository: 495947449196.dkr.ecr.eu-central-1.amazonaws.com/otp
  tag: latest

resources:
  requests:
    cpu: "512m"
    memory: "1Gi"
  limits:
    cpu: "1024m"
    memory: "2Gi"
  

config:
  create: true
  name: otp-config
  data: {}

secret:
  create: false
  name: otp-secrets

externalSecrets: []

scaledObject:
  enabled: true
  pollingInterval: 30
  cooldownPeriod: 300
  minReplicaCount: 2
  maxReplicaCount: 3
  triggers:
    - type: cpu
      metadata:
        type: Utilization
        value: "80"
    - type: memory
      metadata:
        type: Utilization
        value: "90"
